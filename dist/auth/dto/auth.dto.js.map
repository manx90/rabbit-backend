{"version":3,"sources":["../../../src/auth/dto/auth.dto.ts"],"sourcesContent":["import {\r\n  IsNotEmpty,\r\n  IsOptional,\r\n  IsString,\r\n  MinLength,\r\n  MaxLength,\r\n  Matches,\r\n  IsEnum,\r\n} from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Role } from '../../common/constants/roles.constant';\r\n\r\n/** Data transfer object for user login */\r\nexport class LoginDto {\r\n  @ApiProperty({\r\n    example: 'newuser',\r\n    description: 'Username for authentication',\r\n  })\r\n  @IsNotEmpty({ message: 'Username is required' })\r\n  @IsString({ message: 'Username must be a string' })\r\n  username: string;\r\n\r\n  @ApiProperty({ example: 'StrongP@ss1', description: 'User password' })\r\n  @IsNotEmpty({ message: 'Password is required' })\r\n  @IsString({ message: 'Password must be a string' })\r\n  password: string;\r\n}\r\n\r\n/** Data transfer object for user registration */\r\nexport class RegisterDto {\r\n  @ApiProperty({ example: 'newuser', description: 'Desired username' })\r\n  @IsNotEmpty({ message: 'Username is required' })\r\n  @IsString({ message: 'Username must be a string' })\r\n  @MinLength(3, { message: 'Username must be at least 3 characters long' })\r\n  @MaxLength(20, { message: 'Username cannot exceed 20 characters' })\r\n  username: string;\r\n\r\n  @ApiProperty({ example: 'StrongP@ss1', description: 'Desired password' })\r\n  @IsNotEmpty({ message: 'Password is required' })\r\n  @IsString({ message: 'Password must be a string' })\r\n  @MinLength(6, { message: 'Password must be at least 6 characters long' })\r\n  @Matches(/((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$/, {\r\n    message:\r\n      'Password must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number or special character',\r\n  })\r\n  password: string;\r\n\r\n  @ApiProperty({\r\n    enum: Role,\r\n    enumName: 'Role',\r\n    example: Role.Admin,\r\n    description: 'Optional user role',\r\n    required: false,\r\n  })\r\n  @IsOptional()\r\n  @IsEnum(Role, { message: 'Role must be a valid enum value' })\r\n  role?: Role;\r\n}\r\n\r\n/** Data transfer object for changing password */\r\nexport class ChangePasswordDto {\r\n  @ApiProperty({ example: 'OldP@ss1', description: 'Current password' })\r\n  @IsNotEmpty({ message: 'Current password is required' })\r\n  @IsString({ message: 'Current password must be a string' })\r\n  oldPassword: string;\r\n\r\n  @ApiProperty({ example: 'NewP@ss2', description: 'New password' })\r\n  @IsNotEmpty({ message: 'New password is required' })\r\n  @IsString({ message: 'New password must be a string' })\r\n  @MinLength(6, { message: 'New password must be at least 6 characters long' })\r\n  @Matches(/((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$/, {\r\n    message:\r\n      'New password must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number or special character',\r\n  })\r\n  newPassword: string;\r\n}\r\n\r\n/** Internal user data transfer object */\r\nexport class AuthUser {\r\n  @ApiProperty({ example: 'admin', description: 'Username' })\r\n  @IsNotEmpty({ message: 'Username is required' })\r\n  @IsString({ message: 'Username must be a string' })\r\n  username: string;\r\n\r\n  @ApiProperty({ example: 'StrongP@ss1', description: 'Password' })\r\n  @IsNotEmpty({ message: 'Password is required' })\r\n  @IsString({ message: 'Password must be a string' })\r\n  password: string;\r\n\r\n  @ApiProperty({\r\n    enum: Role,\r\n    enumName: 'Role',\r\n    example: Role.Admin,\r\n    description: 'User role',\r\n    required: false,\r\n  })\r\n  @IsOptional()\r\n  @IsEnum(Role, { message: 'Role must be a valid enum value' })\r\n  role?: Role;\r\n\r\n  @ApiProperty({ example: '1', description: 'User ID', required: false })\r\n  @IsOptional()\r\n  @IsString({ message: 'ID must be a string' })\r\n  id?: string;\r\n}\r\n"],"names":["AuthUser","ChangePasswordDto","LoginDto","RegisterDto","example","description","message","enum","Role","enumName","Admin","required"],"mappings":";;;;;;;;;;;IA8EaA,QAAQ;eAARA;;IAlBAC,iBAAiB;eAAjBA;;IA/CAC,QAAQ;eAARA;;IAgBAC,WAAW;eAAXA;;;gCArBN;yBACqB;+BACP;;;;;;;;;;AAGd,IAAA,AAAMD,WAAN,MAAMA;AAab;;;QAXIE,SAAS;QACTC,aAAa;;;QAEDC,SAAS;;;QACXA,SAAS;;;;;;QAGNF,SAAS;QAAeC,aAAa;;;QACtCC,SAAS;;;QACXA,SAAS;;;;AAKhB,IAAA,AAAMH,cAAN,MAAMA;AA4Bb;;;QA3BiBC,SAAS;QAAWC,aAAa;;;QAClCC,SAAS;;;QACXA,SAAS;;;QACLA,SAAS;;;QACRA,SAAS;;;;;;QAGXF,SAAS;QAAeC,aAAa;;;QACtCC,SAAS;;;QACXA,SAAS;;;QACLA,SAAS;;;QAEvBA,SACE;;;;;;QAKFC,MAAMC,mBAAI;QACVC,UAAU;QACVL,SAASI,mBAAI,CAACE,KAAK;QACnBL,aAAa;QACbM,UAAU;;;;QAGIL,SAAS;;;;AAKpB,IAAA,AAAML,oBAAN,MAAMA;AAeb;;;QAdiBG,SAAS;QAAYC,aAAa;;;QACnCC,SAAS;;;QACXA,SAAS;;;;;;QAGNF,SAAS;QAAYC,aAAa;;;QACnCC,SAAS;;;QACXA,SAAS;;;QACLA,SAAS;;;QAEvBA,SACE;;;;AAMC,IAAA,AAAMN,WAAN,MAAMA;AA0Bb;;;QAzBiBI,SAAS;QAASC,aAAa;;;QAChCC,SAAS;;;QACXA,SAAS;;;;;;QAGNF,SAAS;QAAeC,aAAa;;;QACtCC,SAAS;;;QACXA,SAAS;;;;;;QAInBC,MAAMC,mBAAI;QACVC,UAAU;QACVL,SAASI,mBAAI,CAACE,KAAK;QACnBL,aAAa;QACbM,UAAU;;;;QAGIL,SAAS;;;;;;QAGVF,SAAS;QAAKC,aAAa;QAAWM,UAAU;;;;QAEnDL,SAAS"}