{"version":3,"sources":["../../src/auth/auth.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\r\nimport { PassportModule } from '@nestjs/passport';\r\nimport { TypeOrmModule } from '@nestjs/typeorm';\r\nimport { JwtModule } from '@nestjs/jwt';\r\n\r\nimport { AuthController } from './auth.controller';\r\nimport { AuthService } from './auth.service';\r\nimport { AuthRepository } from '../common/Repositories/auth.repository';\r\nimport { auth } from './entities/auth.entity';\r\nimport { LocalStrategy } from '../common/strategies/local.strategy';\r\nimport { JwtStrategy } from '../common/strategies/jwt.strategy';\r\nimport { RolesGuard } from '../common/guards/roles.guard';\r\n\r\nimport { AppConfigModule } from '../config/config.module';\r\nimport { AppConfigService } from '../config/config.service';\r\n\r\n@Module({\r\n  imports: [\r\n    PassportModule.register({ defaultStrategy: 'jwt' }),\r\n    AppConfigModule,\r\n    TypeOrmModule.forFeature([auth]),\r\n    JwtModule.registerAsync({\r\n      imports: [AppConfigModule],\r\n      inject: [AppConfigService],\r\n      useFactory: (config: AppConfigService) => ({\r\n        secret: config.jwtAccessToken,\r\n        signOptions: { expiresIn: config.jwtExpiration },\r\n      }),\r\n    }),\r\n  ],\r\n  controllers: [AuthController],\r\n  providers: [\r\n    AuthService,\r\n    AuthRepository,\r\n    LocalStrategy,\r\n    JwtStrategy,\r\n    RolesGuard,\r\n  ],\r\n  exports: [AuthService],\r\n})\r\nexport class AuthModule {}\r\n"],"names":["AuthModule","imports","PassportModule","register","defaultStrategy","AppConfigModule","TypeOrmModule","forFeature","auth","JwtModule","registerAsync","inject","AppConfigService","useFactory","config","secret","jwtAccessToken","signOptions","expiresIn","jwtExpiration","controllers","AuthController","providers","AuthService","AuthRepository","LocalStrategy","JwtStrategy","RolesGuard","exports"],"mappings":";;;;+BAwCaA;;;eAAAA;;;wBAxCU;0BACQ;yBACD;qBACJ;gCAEK;6BACH;gCACG;4BACV;+BACS;6BACF;4BACD;8BAEK;+BACC;;;;;;;AA0B1B,IAAA,AAAMA,aAAN,MAAMA;AAAY;;;QAvBvBC,SAAS;YACPC,wBAAc,CAACC,QAAQ,CAAC;gBAAEC,iBAAiB;YAAM;YACjDC,6BAAe;YACfC,sBAAa,CAACC,UAAU,CAAC;gBAACC,gBAAI;aAAC;YAC/BC,cAAS,CAACC,aAAa,CAAC;gBACtBT,SAAS;oBAACI,6BAAe;iBAAC;gBAC1BM,QAAQ;oBAACC,+BAAgB;iBAAC;gBAC1BC,YAAY,CAACC,SAA8B,CAAA;wBACzCC,QAAQD,OAAOE,cAAc;wBAC7BC,aAAa;4BAAEC,WAAWJ,OAAOK,aAAa;wBAAC;oBACjD,CAAA;YACF;SACD;QACDC,aAAa;YAACC,8BAAc;SAAC;QAC7BC,WAAW;YACTC,wBAAW;YACXC,8BAAc;YACdC,4BAAa;YACbC,wBAAW;YACXC,sBAAU;SACX;QACDC,SAAS;YAACL,wBAAW;SAAC"}