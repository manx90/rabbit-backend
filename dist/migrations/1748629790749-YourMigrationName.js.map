{"version":3,"sources":["../../src/migrations/1748629790749-YourMigrationName.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class YourMigrationName1748629790749 implements MigrationInterface {\n    name = 'YourMigrationName1748629790749'\n\n    public async up(queryRunner: QueryRunner): Promise<void> {\n        await queryRunner.query(`CREATE TABLE \\`Product\\` (\\`id\\` int NOT NULL AUTO_INCREMENT, \\`name\\` varchar(255) NOT NULL, \\`description\\` text NULL, \\`images\\` json NULL, \\`imgCover\\` varchar(255) NULL, \\`imgSizeChart\\` varchar(255) NULL, \\`imgMeasure\\` varchar(255) NULL, \\`sizeDetails\\` json NOT NULL, \\`publishState\\` enum ('draft', 'published') NOT NULL DEFAULT 'draft', \\`colors\\` json NULL, \\`quantity\\` decimal NULL, \\`isFeatured\\` tinyint NOT NULL DEFAULT 0, \\`isTrending\\` tinyint NOT NULL DEFAULT 0, \\`isNew\\` tinyint NOT NULL DEFAULT 1, \\`isBestSeller\\` tinyint NOT NULL DEFAULT 0, \\`isDeleted\\` tinyint NOT NULL DEFAULT 0, \\`sales\\` int NOT NULL DEFAULT '0', \\`createdAt\\` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, \\`PosterAt\\` timestamp NULL, \\`updatedAt\\` timestamp NULL, \\`categoryId\\` int NULL, \\`subCategoryId\\` int NULL, \\`posterId\\` char(36) NULL, PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`business\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`business_address\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`Cod_amount\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`consignee_address\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`consignee_area\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`consignee_city\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`consignee_name\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`consignee_phone\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`has_return\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`is_cod\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`items_description\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`notes\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`quantity\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`readyById\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`return_notes\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`shipment_types\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`updatedAt\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`readyBy\\` char(36) NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` ADD \\`price\\` int NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` DROP FOREIGN KEY \\`FK_646bf9ece6f45dbe41c203e06e0\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP PRIMARY KEY`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`id\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`id\\` int NOT NULL PRIMARY KEY AUTO_INCREMENT`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` CHANGE \\`sizeName\\` \\`sizeName\\` varchar(255) NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` CHANGE \\`colorName\\` \\`colorName\\` varchar(255) NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` DROP COLUMN \\`orderId\\``);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` ADD \\`orderId\\` int NULL`);\n        await queryRunner.query(`ALTER TABLE \\`Product\\` ADD CONSTRAINT \\`FK_896e2e0f6dfa6f80117a79e1d7e\\` FOREIGN KEY (\\`categoryId\\`) REFERENCES \\`categories\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`Product\\` ADD CONSTRAINT \\`FK_2646f6bdf95330a9d7601b90f1e\\` FOREIGN KEY (\\`subCategoryId\\`) REFERENCES \\`subcategories\\`(\\`id\\`) ON DELETE CASCADE ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`Product\\` ADD CONSTRAINT \\`FK_57cfafda94d308c3a0d2f9df396\\` FOREIGN KEY (\\`posterId\\`) REFERENCES \\`auths\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD CONSTRAINT \\`FK_fe5a36771151740b712e35586b6\\` FOREIGN KEY (\\`readyBy\\`) REFERENCES \\`auths\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` ADD CONSTRAINT \\`FK_646bf9ece6f45dbe41c203e06e0\\` FOREIGN KEY (\\`orderId\\`) REFERENCES \\`order\\`(\\`id\\`) ON DELETE CASCADE ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` ADD CONSTRAINT \\`FK_904370c093ceea4369659a3c810\\` FOREIGN KEY (\\`productId\\`) REFERENCES \\`Product\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<void> {\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` DROP FOREIGN KEY \\`FK_904370c093ceea4369659a3c810\\``);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` DROP FOREIGN KEY \\`FK_646bf9ece6f45dbe41c203e06e0\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP FOREIGN KEY \\`FK_fe5a36771151740b712e35586b6\\``);\n        await queryRunner.query(`ALTER TABLE \\`Product\\` DROP FOREIGN KEY \\`FK_57cfafda94d308c3a0d2f9df396\\``);\n        await queryRunner.query(`ALTER TABLE \\`Product\\` DROP FOREIGN KEY \\`FK_2646f6bdf95330a9d7601b90f1e\\``);\n        await queryRunner.query(`ALTER TABLE \\`Product\\` DROP FOREIGN KEY \\`FK_896e2e0f6dfa6f80117a79e1d7e\\``);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` DROP COLUMN \\`orderId\\``);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` ADD \\`orderId\\` varchar(36) NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` CHANGE \\`colorName\\` \\`colorName\\` varchar(255) NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` CHANGE \\`sizeName\\` \\`sizeName\\` varchar(255) NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`id\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`id\\` varchar(36) NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD PRIMARY KEY (\\`id\\`)`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` ADD CONSTRAINT \\`FK_646bf9ece6f45dbe41c203e06e0\\` FOREIGN KEY (\\`orderId\\`) REFERENCES \\`order\\`(\\`id\\`) ON DELETE CASCADE ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`order_item\\` DROP COLUMN \\`price\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` DROP COLUMN \\`readyBy\\``);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6)`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`shipment_types\\` int NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`return_notes\\` varchar(255) NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`readyById\\` char(36) NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`quantity\\` int NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`notes\\` varchar(255) NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`items_description\\` varchar(255) NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`is_cod\\` tinyint NOT NULL DEFAULT '0'`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`has_return\\` tinyint NOT NULL DEFAULT '0'`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`consignee_phone\\` varchar(255) NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`consignee_name\\` varchar(255) NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`consignee_city\\` int NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`consignee_area\\` int NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`consignee_address\\` varchar(255) NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`Cod_amount\\` decimal NOT NULL DEFAULT '0'`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`business_address\\` int NOT NULL`);\n        await queryRunner.query(`ALTER TABLE \\`order\\` ADD \\`business\\` int NOT NULL`);\n        await queryRunner.query(`DROP TABLE \\`Product\\``);\n    }\n\n}\n"],"names":["YourMigrationName1748629790749","up","queryRunner","query","down","name"],"mappings":"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"}