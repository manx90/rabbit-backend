{"version":3,"sources":["../../src/migrations/1748632000000-UpdateSeasonEnumValues.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner } from 'typeorm';\r\n\r\nexport class UpdateSeasonEnumValues1748632000000 implements MigrationInterface {\r\n  name = 'UpdateSeasonEnumValues1748632000000';\r\n\r\n  public async up(queryRunner: QueryRunner): Promise<void> {\r\n    // First, modify the column to allow larger values temporarily\r\n    await queryRunner.query(`\r\n      ALTER TABLE product \r\n      MODIFY season VARCHAR(50) NULL\r\n    `);\r\n\r\n    // Update existing Arabic season values to English\r\n    await queryRunner.query(`\r\n      UPDATE product \r\n      SET season = CASE \r\n        WHEN season = 'الصيف' THEN 'summer'\r\n        WHEN season = 'الربيع + الخريف' THEN 'spring_autumn'\r\n        WHEN season = 'الشتاء' THEN 'winter'\r\n        WHEN season = 'كل الفصول' THEN 'all'\r\n        ELSE 'all'\r\n      END\r\n    `);\r\n\r\n    // Now change the column back to enum with new values\r\n    await queryRunner.query(`\r\n      ALTER TABLE product \r\n      MODIFY season enum('winter','summer','spring_autumn','all') \r\n      DEFAULT 'all' NULL\r\n    `);\r\n  }\r\n\r\n  public async down(queryRunner: QueryRunner): Promise<void> {\r\n    // First, modify the column to allow larger values temporarily\r\n    await queryRunner.query(`\r\n      ALTER TABLE product \r\n      MODIFY season VARCHAR(50) NULL\r\n    `);\r\n\r\n    // Revert English season values back to Arabic\r\n    await queryRunner.query(`\r\n      UPDATE product \r\n      SET season = CASE \r\n        WHEN season = 'summer' THEN 'الصيف'\r\n        WHEN season = 'spring_autumn' THEN 'الربيع + الخريف'\r\n        WHEN season = 'winter' THEN 'الشتاء'\r\n        WHEN season = 'all' THEN 'كل الفصول'\r\n        ELSE 'كل الفصول'\r\n      END\r\n    `);\r\n\r\n    // Change the column back to original enum with Arabic values\r\n    await queryRunner.query(`\r\n      ALTER TABLE product \r\n      MODIFY season enum('الصيف','الربيع + الخريف','الشتاء','كل الفصول') \r\n      DEFAULT 'كل الفصول' NULL\r\n    `);\r\n  }\r\n}\r\n\r\n"],"names":["UpdateSeasonEnumValues1748632000000","up","queryRunner","query","down","name"],"mappings":";;;;+BAEaA;;;eAAAA;;;AAAN,IAAA,AAAMA,sCAAN,MAAMA;IAGX,MAAaC,GAAGC,WAAwB,EAAiB;QACvD,8DAA8D;QAC9D,MAAMA,YAAYC,KAAK,CAAC,CAAC;;;IAGzB,CAAC;QAED,kDAAkD;QAClD,MAAMD,YAAYC,KAAK,CAAC,CAAC;;;;;;;;;IASzB,CAAC;QAED,qDAAqD;QACrD,MAAMD,YAAYC,KAAK,CAAC,CAAC;;;;IAIzB,CAAC;IACH;IAEA,MAAaC,KAAKF,WAAwB,EAAiB;QACzD,8DAA8D;QAC9D,MAAMA,YAAYC,KAAK,CAAC,CAAC;;;IAGzB,CAAC;QAED,8CAA8C;QAC9C,MAAMD,YAAYC,KAAK,CAAC,CAAC;;;;;;;;;IASzB,CAAC;QAED,6DAA6D;QAC7D,MAAMD,YAAYC,KAAK,CAAC,CAAC;;;;IAIzB,CAAC;IACH;;aAtDAE,OAAO;;AAuDT"}