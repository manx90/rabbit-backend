{"version":3,"sources":["../../../src/product/dto/Product.dto.ts"],"sourcesContent":["import {\r\n  IsString,\r\n  IsNotEmpty,\r\n  IsNumber,\r\n  IsBoolean,\r\n  IsOptional,\r\n  IsArray,\r\n  IsEnum,\r\n  ValidateNested,\r\n  Min,\r\n  IsPositive,\r\n  ArrayMinSize,\r\n} from 'class-validator';\r\nimport { Type } from 'class-transformer';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\nimport { PublishState } from '../../common/interfaces/entity.interface';\r\n\r\n/* ---------- nested DTOs ---------- */\r\n\r\nexport class ColorQuantityDto {\r\n  @ApiProperty({ example: 'أحمر' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  colorName: string;\r\n\r\n  @ApiProperty({ example: 12, minimum: 0 })\r\n  @IsNumber()\r\n  @Min(0)\r\n  quantity: number;\r\n\r\n  @ApiProperty({ example: 'red-color.jpg' })\r\n  @IsString()\r\n  imgColors: string;\r\n}\r\n\r\nexport class SizeDetailDto {\r\n  @ApiProperty({ example: 'XL' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  sizeName: string;\r\n\r\n  @ApiProperty({ example: 35000 })\r\n  @IsNumber()\r\n  @IsPositive()\r\n  price: number;\r\n\r\n  @ApiProperty({\r\n    description: 'Colors and their stock for this size',\r\n    type: [ColorQuantityDto],\r\n    minItems: 1,\r\n  })\r\n  @IsArray()\r\n  @ArrayMinSize(1)\r\n  @ValidateNested({ each: true })\r\n  @Type(() => ColorQuantityDto)\r\n  quantities: ColorQuantityDto[];\r\n}\r\n\r\nexport class ColorDetailDto {\r\n  @ApiProperty({ example: 'أحمر' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  name: string;\r\n\r\n  @ApiPropertyOptional({ example: 'red-color.jpg' })\r\n  @IsOptional()\r\n  @IsString()\r\n  imgColor?: string;\r\n}\r\n\r\n/* ---------- main DTO ---------- */\r\n\r\nexport class CreateProductDto {\r\n  @ApiProperty({ example: 'تيشيرت رجالي' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  name: string;\r\n\r\n  @ApiProperty({ example: 'تيشيرت قطن عالي الجودة ومريح' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  description: string;\r\n\r\n  @ApiProperty({ example: 1 })\r\n  @IsNumber()\r\n  categoryId: number;\r\n\r\n  @ApiProperty({ example: 2 })\r\n  @IsNumber()\r\n  subCategoryId: number;\r\n\r\n  @ApiPropertyOptional({ enum: PublishState, default: PublishState.DRAFT })\r\n  @IsEnum(PublishState)\r\n  @IsOptional()\r\n  publishState?: PublishState = PublishState.DRAFT;\r\n\r\n  // @ApiProperty({\r\n  //   description: 'Gallery images (file names or URLs)',\r\n  //   example: ['gallery1.jpg', 'gallery2.jpg'],\r\n  //   type: [String],\r\n  // })\r\n  // @IsArray()\r\n  // @ArrayMinSize(1)\r\n  // images: string[];\r\n\r\n  // @ApiProperty({ example: 'cover.jpg' })\r\n  // @IsString()\r\n  // imgCover: string;\r\n\r\n  // @ApiPropertyOptional({ example: 'size-chart.png' })\r\n  // @IsOptional()\r\n  // @IsString()\r\n  // imgSizeChart?: string;\r\n\r\n  // @ApiPropertyOptional({ example: 'measure.png' })\r\n  // @IsOptional()\r\n  // @IsString()\r\n  // imgMeasure?: string;\r\n\r\n  /* sizes & colors */\r\n  @ApiProperty({\r\n    description: 'List of sizes with their prices and color quantities',\r\n    type: [SizeDetailDto],\r\n    minItems: 1,\r\n  })\r\n  @IsArray()\r\n  // @ArrayMinSize(1)\r\n  // @ValidateNested({ each: true })\r\n  // @Type(() => SizeDetailDto)\r\n  sizes: SizeDetailDto[];\r\n\r\n  /** optional convenience list if you want to expose colors separately */\r\n  @ApiPropertyOptional({\r\n    description: 'Flat list of colors (redundant, but handy for front-end)',\r\n    type: [ColorDetailDto],\r\n  })\r\n  @IsArray()\r\n  @IsOptional()\r\n  // @ValidateNested({ each: true })\r\n  // @Type(() => ColorDetailDto)\r\n  colors?: ColorDetailDto[];\r\n\r\n  /* UX flags */\r\n  @ApiPropertyOptional({ default: false })\r\n  @IsBoolean()\r\n  @IsOptional()\r\n  isActive?: boolean = false;\r\n  @ApiPropertyOptional({ default: false })\r\n  @IsBoolean()\r\n  @IsOptional()\r\n  isFeatured?: boolean = false;\r\n  @ApiPropertyOptional({ default: false })\r\n  @IsBoolean()\r\n  @IsOptional()\r\n  isTrending?: boolean = false;\r\n  @ApiPropertyOptional({ default: true })\r\n  @IsBoolean()\r\n  @IsOptional()\r\n  isNew?: boolean = true;\r\n  @ApiPropertyOptional({ default: false })\r\n  @IsBoolean()\r\n  @IsOptional()\r\n  isBestSeller?: boolean = false;\r\n  imgCover: string;\r\n  imgSizeChart: string;\r\n  imgMeasure: string;\r\n  images: string[];\r\n}\r\n\r\nexport class UpdateProductDto {\r\n  @IsOptional()\r\n  @IsString()\r\n  name?: string;\r\n\r\n  @IsOptional()\r\n  @IsString()\r\n  description?: string;\r\n\r\n  @IsOptional()\r\n  @IsEnum(PublishState)\r\n  publishState?: PublishState;\r\n\r\n  @IsOptional()\r\n  @IsNumber()\r\n  categoryId?: number;\r\n\r\n  @IsOptional()\r\n  @IsNumber()\r\n  subCategoryId?: number;\r\n\r\n  @IsOptional()\r\n  @IsArray()\r\n  @ValidateNested({ each: true })\r\n  @Type(() => SizeDetailDto)\r\n  sizes?: SizeDetailDto[];\r\n\r\n  @IsOptional()\r\n  @IsArray()\r\n  @ValidateNested({ each: true })\r\n  @Type(() => ColorDetailDto)\r\n  colors?: ColorDetailDto[];\r\n\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  isActive?: boolean;\r\n\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  isFeatured?: boolean;\r\n\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  isTrending?: boolean;\r\n\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  isNew?: boolean;\r\n\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  isBestSeller?: boolean;\r\n}\r\n"],"names":["ColorDetailDto","ColorQuantityDto","CreateProductDto","SizeDetailDto","UpdateProductDto","example","minimum","description","type","minItems","each","publishState","PublishState","DRAFT","isActive","isFeatured","isTrending","isNew","isBestSeller","enum","default"],"mappings":";;;;;;;;;;;IA0DaA,cAAc;eAAdA;;IAvCAC,gBAAgB;eAAhBA;;IAqDAC,gBAAgB;eAAhBA;;IArCAC,aAAa;eAAbA;;IAsIAC,gBAAgB;eAAhBA;;;gCA7JN;kCACc;yBAC4B;iCACpB;;;;;;;;;;AAItB,IAAA,AAAMH,mBAAN,MAAMA;AAcb;;;QAbiBI,SAAS;;;;;;;;QAKTA,SAAS;QAAIC,SAAS;;;;;;;;QAKtBD,SAAS;;;;;AAKnB,IAAA,AAAMF,gBAAN,MAAMA;AAqBb;;;QApBiBE,SAAS;;;;;;;;QAKTA,SAAS;;;;;;;;QAMtBE,aAAa;QACbC,MAAM;YAACP;SAAiB;QACxBQ,UAAU;;;;;QAIMC,MAAM;;oCACZT;;;AAIP,IAAA,AAAMD,iBAAN,MAAMA;AAUb;;;QATiBK,SAAS;;;;;;;;QAKDA,SAAS;;;;;;AAQ3B,IAAA,AAAMH,mBAAN,MAAMA;;aAsBXS,eAA8BC,6BAAY,CAACC,KAAK;QAgDhD,YAAY,QAIZC,WAAqB;aAIrBC,aAAuB;aAIvBC,aAAuB;aAIvBC,QAAkB;aAIlBC,eAAyB;;AAK3B;;;QA9FiBb,SAAS;;;;;;;;QAKTA,SAAS;;;;;;;;QAKTA,SAAS;;;;;;;QAITA,SAAS;;;;;;;QAIDc,MAAMP,6BAAY;QAAEQ,SAASR,6BAAY,CAACC,KAAK;;;;;;;;QA8BpEN,aAAa;QACbC,MAAM;YAACL;SAAc;QACrBM,UAAU;;;;;;;QAUVF,aAAa;QACbC,MAAM;YAACR;SAAe;;;;;;;;QASDoB,SAAS;;;;;;;;QAITA,SAAS;;;;;;;;QAITA,SAAS;;;;;;;;QAITA,SAAS;;;;;;;;QAITA,SAAS;;;;;;AAU3B,IAAA,AAAMhB,mBAAN,MAAMA;AAoDb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QA7BoBM,MAAM;;oCACZP;;;;;;;QAKMO,MAAM;;oCACZV"}