{"version":3,"sources":["../../../src/product/dto/category.dto.ts"],"sourcesContent":["import {\r\n  IsString,\r\n  IsNotEmpty,\r\n  IsOptional,\r\n  IsBoolean,\r\n  ValidateNested,\r\n  IsNumber,\r\n  IsArray,\r\n} from 'class-validator';\r\nimport { Type } from 'class-transformer';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\n\r\nexport class UploadIcon {\r\n  @ApiPropertyOptional({ type: 'string', format: 'binary' })\r\n  @IsOptional()\r\n  iconCat?: Express.Multer.File;\r\n\r\n  @ApiPropertyOptional({ type: 'string', format: 'binary' })\r\n  @IsOptional()\r\n  iconSubCat?: Express.Multer.File;\r\n}\r\n\r\nexport class SubCategoryResponseDto {\r\n  @ApiProperty({ example: 5 })\r\n  id: number;\r\n\r\n  @ApiProperty({ example: 'T-Shirts' })\r\n  name: string;\r\n\r\n  @ApiProperty({ example: true })\r\n  isActive: boolean;\r\n\r\n  @ApiProperty({ example: '2025-05-26T07:00:00.000Z' })\r\n  createdAt: Date;\r\n\r\n  @ApiProperty({ example: '2025-05-26T07:00:00.000Z' })\r\n  updatedAt: Date;\r\n}\r\n\r\nexport class CategoryResponseDto {\r\n  @ApiProperty({ example: 1 })\r\n  id: number;\r\n\r\n  @ApiProperty({ example: 'Clothing' })\r\n  name: string;\r\n\r\n  @ApiProperty({ type: [SubCategoryResponseDto] })\r\n  subCategories: SubCategoryResponseDto[];\r\n\r\n  @ApiProperty({ example: true })\r\n  isActive: boolean;\r\n\r\n  @ApiProperty({ example: '2025-05-26T07:00:00.000Z' })\r\n  createdAt: Date;\r\n\r\n  @ApiProperty({ example: '2025-05-26T07:00:00.000Z' })\r\n  updatedAt: Date;\r\n}\r\n\r\nexport class CreateSubCategoryDto {\r\n  @ApiProperty({ example: 'T-Shirts' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  name: string;\r\n\r\n  @ApiProperty({ example: 1, description: 'Parent category ID' })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  categoryId: number;\r\n\r\n  @ApiPropertyOptional({ type: 'string', format: 'binary' })\r\n  @IsOptional()\r\n  iconSubCat?: any; // Allow iconSubCat to pass validation\r\n}\r\n\r\nexport class UpdateSubCategoryDto {\r\n  @ApiPropertyOptional({ example: \"Men's T-Shirts\" })\r\n  @IsOptional()\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  name?: string;\r\n\r\n  // You could also allow toggling isActive\r\n  @ApiPropertyOptional({ example: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  isActive?: boolean;\r\n\r\n  @ApiPropertyOptional({ type: 'string', format: 'binary' })\r\n  @IsOptional()\r\n  iconSubCat?: any; // Allow iconSubCat to pass validation\r\n}\r\n\r\nexport class CreateCategoryDto {\r\n  @ApiProperty({ example: 'Clothing' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  name: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Initial subcategories (IDs or objects)',\r\n    type: [CreateSubCategoryDto],\r\n  })\r\n  @IsOptional()\r\n  @IsArray()\r\n  @ValidateNested({ each: true })\r\n  @Type(() => CreateSubCategoryDto)\r\n  subCategories?: CreateSubCategoryDto[];\r\n}\r\n\r\nexport class UpdateCategoryDto {\r\n  @ApiPropertyOptional({ example: 'Apparel' })\r\n  @IsOptional()\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  name?: string;\r\n\r\n  @ApiPropertyOptional({ example: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  isActive?: boolean;\r\n\r\n  @ApiPropertyOptional({ type: 'string', format: 'binary' })\r\n  @IsOptional()\r\n  iconCat?: any; // Allow iconCat to pass validation\r\n}\r\n"],"names":["CategoryResponseDto","CreateCategoryDto","CreateSubCategoryDto","SubCategoryResponseDto","UpdateCategoryDto","UpdateSubCategoryDto","UploadIcon","type","format","example","description","each"],"mappings":";;;;;;;;;;;IAuCaA,mBAAmB;eAAnBA;;IAsDAC,iBAAiB;eAAjBA;;IAlCAC,oBAAoB;eAApBA;;IArCAC,sBAAsB;eAAtBA;;IAwFAC,iBAAiB;eAAjBA;;IAnCAC,oBAAoB;eAApBA;;IA/DAC,UAAU;eAAVA;;;gCAJN;kCACc;yBAC4B;;;;;;;;;;AAE1C,IAAA,AAAMA,aAAN,MAAMA;AAQb;;;QAPyBC,MAAM;QAAUC,QAAQ;;;iFAE7B,yCAAA,OAAO,wCAAP,OAAO;;;;QAEFD,MAAM;QAAUC,QAAQ;;;iFAE1B,yCAAA,OAAO,wCAAP,OAAO;;AAGvB,IAAA,AAAML,yBAAN,MAAMA;AAeb;;;QAdiBM,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;AAInB,IAAA,AAAMT,sBAAN,MAAMA;AAkBb;;;QAjBiBS,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTF,MAAM;YAACJ;SAAuB;;;;;;QAG9BM,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;AAInB,IAAA,AAAMP,uBAAN,MAAMA;AAcb;;;QAbiBO,SAAS;;;;;;;;QAKTA,SAAS;QAAGC,aAAa;;;;;;;;QAKjBH,MAAM;QAAUC,QAAQ;;;;;AAK1C,IAAA,AAAMH,uBAAN,MAAMA;AAgBb;;;QAfyBI,SAAS;;;;;;;;;QAOTA,SAAS;;;;;;;;QAKTF,MAAM;QAAUC,QAAQ;;;;;AAK1C,IAAA,AAAMP,oBAAN,MAAMA;AAeb;;;QAdiBQ,SAAS;;;;;;;;QAMtBC,aAAa;QACbH,MAAM;YAACL;SAAqB;;;;;QAIZS,MAAM;;oCACZT;;;AAIP,IAAA,AAAME,oBAAN,MAAMA;AAeb;;;QAdyBK,SAAS;;;;;;;;;QAMTA,SAAS;;;;;;;;QAKTF,MAAM;QAAUC,QAAQ"}