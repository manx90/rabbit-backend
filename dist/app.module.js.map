{"version":3,"sources":["../src/app.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\r\nimport { TypeOrmModule } from '@nestjs/typeorm';\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { ProductModule } from './product/product.module';\r\nimport { AppConfigModule } from './config/config.module';\r\nimport { AppConfigService } from './config/config.service';\r\nimport { OptosModule } from './optos/optos.module';\r\nimport { OrderModule } from './order/order.module';\r\nimport { JwtModule } from '@nestjs/jwt';\r\nimport { FileStorageModule } from './file-storage/file-storage.module';\r\n\r\n@Module({\r\n  imports: [\r\n    AppConfigModule,\r\n    JwtModule.registerAsync({\r\n      imports: [AppConfigModule],\r\n      inject: [AppConfigService],\r\n      useFactory: (config: AppConfigService) => ({\r\n        global: true,\r\n        secret: config.jwtAccessToken,\r\n        signOptions: { expiresIn: config.jwtExpiration || '30d' },\r\n      }),\r\n    }),\r\n    TypeOrmModule.forRootAsync({\r\n      imports: [AppConfigModule],\r\n      inject: [AppConfigService],\r\n      useFactory: (config: AppConfigService) => ({\r\n        type: 'mysql',\r\n        host: config.host,\r\n        port: config.port,\r\n        username: config.user,\r\n        password: config.pass,\r\n        database: config.db,\r\n        entities: [__dirname + '/**/*.entity{.ts,.js}'],\r\n        synchronize: true,\r\n        migrationsRun: true,\r\n      }),\r\n    }),\r\n    AuthModule,\r\n    OrderModule,\r\n    ProductModule,\r\n    OptosModule,\r\n    FileStorageModule,\r\n  ],\r\n})\r\nexport class AppModule {}\r\n"],"names":["AppModule","imports","AppConfigModule","JwtModule","registerAsync","inject","AppConfigService","useFactory","config","global","secret","jwtAccessToken","signOptions","expiresIn","jwtExpiration","TypeOrmModule","forRootAsync","type","host","port","username","user","password","pass","database","db","entities","__dirname","synchronize","migrationsRun","AuthModule","OrderModule","ProductModule","OptosModule","FileStorageModule"],"mappings":";;;;+BA6CaA;;;eAAAA;;;wBA7CU;yBACO;4BACH;+BACG;8BACE;+BACC;6BACL;6BACA;qBACF;mCACQ;;;;;;;AAoC3B,IAAA,AAAMA,YAAN,MAAMA;AAAW;;;QAjCtBC,SAAS;YACPC,6BAAe;YACfC,cAAS,CAACC,aAAa,CAAC;gBACtBH,SAAS;oBAACC,6BAAe;iBAAC;gBAC1BG,QAAQ;oBAACC,+BAAgB;iBAAC;gBAC1BC,YAAY,CAACC,SAA8B,CAAA;wBACzCC,QAAQ;wBACRC,QAAQF,OAAOG,cAAc;wBAC7BC,aAAa;4BAAEC,WAAWL,OAAOM,aAAa,IAAI;wBAAM;oBAC1D,CAAA;YACF;YACAC,sBAAa,CAACC,YAAY,CAAC;gBACzBf,SAAS;oBAACC,6BAAe;iBAAC;gBAC1BG,QAAQ;oBAACC,+BAAgB;iBAAC;gBAC1BC,YAAY,CAACC,SAA8B,CAAA;wBACzCS,MAAM;wBACNC,MAAMV,OAAOU,IAAI;wBACjBC,MAAMX,OAAOW,IAAI;wBACjBC,UAAUZ,OAAOa,IAAI;wBACrBC,UAAUd,OAAOe,IAAI;wBACrBC,UAAUhB,OAAOiB,EAAE;wBACnBC,UAAU;4BAACC,YAAY;yBAAwB;wBAC/CC,aAAa;wBACbC,eAAe;oBACjB,CAAA;YACF;YACAC,sBAAU;YACVC,wBAAW;YACXC,4BAAa;YACbC,wBAAW;YACXC,oCAAiB;SAClB"}