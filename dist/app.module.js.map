{"version":3,"sources":["../src/app.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { AuthModule } from './auth/auth.module';\nimport { ProductModule } from './product/product.module';\nimport { AppConfigModule } from './config/config.module';\nimport { AppConfigService } from './config/config.service';\nimport { OptosModule } from './optos/optos.module';\nimport { OrderModule } from './order/order.module';\nimport { JwtModule } from '@nestjs/jwt';\nimport { FileStorageModule } from './file-storage/file-storage.module';\n\n@Module({\n  imports: [\n    AppConfigModule,\n    JwtModule.registerAsync({\n      imports: [AppConfigModule],\n      inject: [AppConfigService],\n      useFactory: (config: AppConfigService) => ({\n        global: true,\n        secret: config.jwtAccessToken,\n        signOptions: { expiresIn: config.jwtExpiration || '30d' },\n      }),\n    }),\n    TypeOrmModule.forRootAsync({\n      imports: [AppConfigModule],\n      inject: [AppConfigService],\n      useFactory: (config: AppConfigService) => ({\n        type: 'mysql',\n        host: config.host,\n        port: config.port,\n        username: config.user,\n        password: config.pass,\n        database: config.db,\n        entities: [__dirname + '/**/*.entity{.ts,.js}'],\n        synchronize: true,\n        migrationsRun: true,\n      }),\n    }),\n    AuthModule,\n    OrderModule,\n    ProductModule,\n    OptosModule,\n    FileStorageModule,\n  ],\n})\nexport class AppModule {}\n"],"names":["AppModule","imports","AppConfigModule","JwtModule","registerAsync","inject","AppConfigService","useFactory","config","global","secret","jwtAccessToken","signOptions","expiresIn","jwtExpiration","TypeOrmModule","forRootAsync","type","host","port","username","user","password","pass","database","db","entities","__dirname","synchronize","migrationsRun","AuthModule","OrderModule","ProductModule","OptosModule","FileStorageModule"],"mappings":";;;;+BA6CaA;;;eAAAA;;;wBA7CU;yBACO;4BACH;+BACG;8BACE;+BACC;6BACL;6BACA;qBACF;mCACQ;;;;;;;AAoC3B,IAAA,AAAMA,YAAN,MAAMA;AAAW;;;QAjCtBC,SAAS;YACPC,6BAAe;YACfC,cAAS,CAACC,aAAa,CAAC;gBACtBH,SAAS;oBAACC,6BAAe;iBAAC;gBAC1BG,QAAQ;oBAACC,+BAAgB;iBAAC;gBAC1BC,YAAY,CAACC,SAA8B,CAAA;wBACzCC,QAAQ;wBACRC,QAAQF,OAAOG,cAAc;wBAC7BC,aAAa;4BAAEC,WAAWL,OAAOM,aAAa,IAAI;wBAAM;oBAC1D,CAAA;YACF;YACAC,sBAAa,CAACC,YAAY,CAAC;gBACzBf,SAAS;oBAACC,6BAAe;iBAAC;gBAC1BG,QAAQ;oBAACC,+BAAgB;iBAAC;gBAC1BC,YAAY,CAACC,SAA8B,CAAA;wBACzCS,MAAM;wBACNC,MAAMV,OAAOU,IAAI;wBACjBC,MAAMX,OAAOW,IAAI;wBACjBC,UAAUZ,OAAOa,IAAI;wBACrBC,UAAUd,OAAOe,IAAI;wBACrBC,UAAUhB,OAAOiB,EAAE;wBACnBC,UAAU;4BAACC,YAAY;yBAAwB;wBAC/CC,aAAa;wBACbC,eAAe;oBACjB,CAAA;YACF;YACAC,sBAAU;YACVC,wBAAW;YACXC,4BAAa;YACbC,wBAAW;YACXC,oCAAiB;SAClB"}