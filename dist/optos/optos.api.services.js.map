{"version":3,"sources":["../../src/optos/optos.api.services.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\nimport { HttpService } from '@nestjs/axios';\nimport { OptosService } from './optos.token.service';\n@Injectable()\nexport class OptosApiService {\n  constructor(\n    private readonly httpService: HttpService,\n    private readonly OptosService: OptosService,\n  ) {}\n\n  async Businesses() {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const access_token = await this.OptosService.Login();\n    const response = await this.httpService.axiosRef.get(\n      'https://opost.ps/api/resources/businesses',\n      {\n        headers: {\n          Authorization: `Bearer ${access_token}`,\n          Accept: 'application/json',\n        },\n        maxBodyLength: Infinity,\n      },\n    );\n    return response.data;\n  }\n  async BusinessesAddress() {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const access_token = await this.OptosService.Login();\n    const response = await this.httpService.axiosRef.get(\n      'https://opost.ps/api/resources/business-addresses',\n      {\n        headers: {\n          Authorization: `Bearer ${access_token}`,\n          Accept: 'application/json',\n        },\n        maxBodyLength: Infinity,\n      },\n    );\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return response.data;\n  }\n  async Cities() {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const access_token = await this.OptosService.Login();\n    const response = await this.httpService.axiosRef.get(\n      'https://opost.ps/api/resources/cities',\n      {\n        headers: {\n          Authorization: `Bearer ${access_token}`,\n          Accept: 'application/json',\n        },\n        maxBodyLength: Infinity,\n      },\n    );\n    return response.data;\n  }\n  async Area(city: number) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const access_token = await this.OptosService.Login();\n    const City = city;\n    const response = await this.httpService.axiosRef.get(\n      `https://opost.ps/api/resources/areas?city=${City}`,\n      {\n        headers: {\n          Authorization: `Bearer ${access_token}`,\n          Accept: 'application/json',\n        },\n        maxBodyLength: Infinity,\n      },\n    );\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return response.data;\n  }\n}\n"],"names":["OptosApiService","Businesses","access_token","OptosService","Login","response","httpService","axiosRef","get","headers","Authorization","Accept","maxBodyLength","Infinity","data","BusinessesAddress","Cities","Area","city","City","constructor"],"mappings":";;;;+BAIaA;;;eAAAA;;;wBAJc;uBACC;mCACC;;;;;;;;;;AAEtB,IAAA,AAAMA,kBAAN,MAAMA;IAMX,MAAMC,aAAa;QACjB,mEAAmE;QACnE,MAAMC,eAAe,MAAM,IAAI,CAACC,YAAY,CAACC,KAAK;QAClD,MAAMC,WAAW,MAAM,IAAI,CAACC,WAAW,CAACC,QAAQ,CAACC,GAAG,CAClD,6CACA;YACEC,SAAS;gBACPC,eAAe,CAAC,OAAO,EAAER,cAAc;gBACvCS,QAAQ;YACV;YACAC,eAAeC;QACjB;QAEF,OAAOR,SAASS,IAAI;IACtB;IACA,MAAMC,oBAAoB;QACxB,mEAAmE;QACnE,MAAMb,eAAe,MAAM,IAAI,CAACC,YAAY,CAACC,KAAK;QAClD,MAAMC,WAAW,MAAM,IAAI,CAACC,WAAW,CAACC,QAAQ,CAACC,GAAG,CAClD,qDACA;YACEC,SAAS;gBACPC,eAAe,CAAC,OAAO,EAAER,cAAc;gBACvCS,QAAQ;YACV;YACAC,eAAeC;QACjB;QAEF,+DAA+D;QAC/D,OAAOR,SAASS,IAAI;IACtB;IACA,MAAME,SAAS;QACb,mEAAmE;QACnE,MAAMd,eAAe,MAAM,IAAI,CAACC,YAAY,CAACC,KAAK;QAClD,MAAMC,WAAW,MAAM,IAAI,CAACC,WAAW,CAACC,QAAQ,CAACC,GAAG,CAClD,yCACA;YACEC,SAAS;gBACPC,eAAe,CAAC,OAAO,EAAER,cAAc;gBACvCS,QAAQ;YACV;YACAC,eAAeC;QACjB;QAEF,OAAOR,SAASS,IAAI;IACtB;IACA,MAAMG,KAAKC,IAAY,EAAE;QACvB,mEAAmE;QACnE,MAAMhB,eAAe,MAAM,IAAI,CAACC,YAAY,CAACC,KAAK;QAClD,MAAMe,OAAOD;QACb,MAAMb,WAAW,MAAM,IAAI,CAACC,WAAW,CAACC,QAAQ,CAACC,GAAG,CAClD,CAAC,0CAA0C,EAAEW,MAAM,EACnD;YACEV,SAAS;gBACPC,eAAe,CAAC,OAAO,EAAER,cAAc;gBACvCS,QAAQ;YACV;YACAC,eAAeC;QACjB;QAEF,+DAA+D;QAC/D,OAAOR,SAASS,IAAI;IACtB;IAnEAM,YACE,AAAiBd,WAAwB,EACzC,AAAiBH,YAA0B,CAC3C;aAFiBG,cAAAA;aACAH,eAAAA;IAChB;AAiEL"}