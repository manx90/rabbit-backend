{"version":3,"sources":["../../src/optos/optos.api.services.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\r\nimport { HttpService } from '@nestjs/axios';\r\nimport { OptosService } from './optos.token.service';\r\n@Injectable()\r\nexport class OptosApiService {\r\n  constructor(\r\n    private readonly httpService: HttpService,\r\n    private readonly OptosService: OptosService,\r\n  ) {}\r\n\r\n  async Businesses() {\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n    const access_token = await this.OptosService.Login();\r\n    const response = await this.httpService.axiosRef.get(\r\n      'https://opost.ps/api/resources/businesses',\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${access_token}`,\r\n          Accept: 'application/json',\r\n        },\r\n        maxBodyLength: Infinity,\r\n      },\r\n    );\r\n    return response.data;\r\n  }\r\n  async BusinessesAddress() {\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n    const access_token = await this.OptosService.Login();\r\n    const response = await this.httpService.axiosRef.get(\r\n      'https://opost.ps/api/resources/business-addresses',\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${access_token}`,\r\n          Accept: 'application/json',\r\n        },\r\n        maxBodyLength: Infinity,\r\n      },\r\n    );\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n    return response.data;\r\n  }\r\n  async Cities() {\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n    const access_token = await this.OptosService.Login();\r\n    const response = await this.httpService.axiosRef.get(\r\n      'https://opost.ps/api/resources/cities',\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${access_token}`,\r\n          Accept: 'application/json',\r\n        },\r\n        maxBodyLength: Infinity,\r\n      },\r\n    );\r\n    return response.data;\r\n  }\r\n  async Area(city: number) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n    const access_token = await this.OptosService.Login();\r\n    const City = city;\r\n    const response = await this.httpService.axiosRef.get(\r\n      `https://opost.ps/api/resources/areas?city=${City}`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${access_token}`,\r\n          Accept: 'application/json',\r\n        },\r\n        maxBodyLength: Infinity,\r\n      },\r\n    );\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n    return response.data;\r\n  }\r\n}\r\n"],"names":["OptosApiService","Businesses","access_token","OptosService","Login","response","httpService","axiosRef","get","headers","Authorization","Accept","maxBodyLength","Infinity","data","BusinessesAddress","Cities","Area","city","City","constructor"],"mappings":";;;;+BAIaA;;;eAAAA;;;wBAJc;uBACC;mCACC;;;;;;;;;;AAEtB,IAAA,AAAMA,kBAAN,MAAMA;IAMX,MAAMC,aAAa;QACjB,mEAAmE;QACnE,MAAMC,eAAe,MAAM,IAAI,CAACC,YAAY,CAACC,KAAK;QAClD,MAAMC,WAAW,MAAM,IAAI,CAACC,WAAW,CAACC,QAAQ,CAACC,GAAG,CAClD,6CACA;YACEC,SAAS;gBACPC,eAAe,CAAC,OAAO,EAAER,cAAc;gBACvCS,QAAQ;YACV;YACAC,eAAeC;QACjB;QAEF,OAAOR,SAASS,IAAI;IACtB;IACA,MAAMC,oBAAoB;QACxB,mEAAmE;QACnE,MAAMb,eAAe,MAAM,IAAI,CAACC,YAAY,CAACC,KAAK;QAClD,MAAMC,WAAW,MAAM,IAAI,CAACC,WAAW,CAACC,QAAQ,CAACC,GAAG,CAClD,qDACA;YACEC,SAAS;gBACPC,eAAe,CAAC,OAAO,EAAER,cAAc;gBACvCS,QAAQ;YACV;YACAC,eAAeC;QACjB;QAEF,+DAA+D;QAC/D,OAAOR,SAASS,IAAI;IACtB;IACA,MAAME,SAAS;QACb,mEAAmE;QACnE,MAAMd,eAAe,MAAM,IAAI,CAACC,YAAY,CAACC,KAAK;QAClD,MAAMC,WAAW,MAAM,IAAI,CAACC,WAAW,CAACC,QAAQ,CAACC,GAAG,CAClD,yCACA;YACEC,SAAS;gBACPC,eAAe,CAAC,OAAO,EAAER,cAAc;gBACvCS,QAAQ;YACV;YACAC,eAAeC;QACjB;QAEF,OAAOR,SAASS,IAAI;IACtB;IACA,MAAMG,KAAKC,IAAY,EAAE;QACvB,mEAAmE;QACnE,MAAMhB,eAAe,MAAM,IAAI,CAACC,YAAY,CAACC,KAAK;QAClD,MAAMe,OAAOD;QACb,MAAMb,WAAW,MAAM,IAAI,CAACC,WAAW,CAACC,QAAQ,CAACC,GAAG,CAClD,CAAC,0CAA0C,EAAEW,MAAM,EACnD;YACEV,SAAS;gBACPC,eAAe,CAAC,OAAO,EAAER,cAAc;gBACvCS,QAAQ;YACV;YACAC,eAAeC;QACjB;QAEF,+DAA+D;QAC/D,OAAOR,SAASS,IAAI;IACtB;IAnEAM,YACE,AAAiBd,WAAwB,EACzC,AAAiBH,YAA0B,CAC3C;aAFiBG,cAAAA;aACAH,eAAAA;IAChB;AAiEL"}